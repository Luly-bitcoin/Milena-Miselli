@{
    ViewData["Title"] = "Dashboard";
    var estadisticas = ViewBag.Estadisticas as dynamic;
}

<!-- HERO SECTION -->
<div class="p-5 mb-4 rounded-3" style="background: linear-gradient(135deg, var(--vintage-brown) 0%, var(--vintage-dark-brown) 100%); border: 3px solid var(--vintage-gold); box-shadow: 0 8px 16px rgba(0,0,0,0.4);">
    <div class="container py-5 text-center">
        <h1 class="display-4 fw-bold" style="color: var(--vintage-cream); text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
            <i class="fas fa-building"></i> Bienvenido a Inmobiliaria
        </h1>
        <p class="fs-5 mb-4" style="color: var(--vintage-cream); text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">Sistema de gestión integral para inmobiliarias</p>
        <p class="lead" style="color: var(--vintage-gold); font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">Hola, <strong>@User.Identity?.Name</strong> - @DateTime.Now.ToString("dddd, dd MMMM yyyy")</p>
    </div>
</div>

<!-- ESTADÍSTICAS -->
<div class="container mb-5">
    <h2 class="mb-4"><i class="fas fa-chart-bar"></i> Resumen del Sistema</h2>
    <div class="row">
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-brown) 0%, var(--vintage-dark-brown) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-cream);">
                <div class="card-body">
                    <i class="fas fa-user-tie fa-2x mb-2" style="color: var(--vintage-gold);"></i>
                    <h4 style="color: var(--vintage-cream); text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">@estadisticas?.TotalPropietarios</h4>
                    <p class="mb-0" style="color: var(--vintage-cream);">Propietarios</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-dark-brown) 0%, var(--vintage-brown) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-cream);">
                <div class="card-body">
                    <i class="fas fa-user fa-2x mb-2" style="color: var(--vintage-gold);"></i>
                    <h4 style="color: var(--vintage-cream); text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">@estadisticas?.TotalInquilinos</h4>
                    <p class="mb-0" style="color: var(--vintage-cream);">Inquilinos</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-brown) 0%, var(--vintage-gold) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-dark);">
                <div class="card-body">
                    <i class="fas fa-building fa-2x mb-2" style="color: var(--vintage-dark);"></i>
                    <h4 style="color: var(--vintage-dark); text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">@estadisticas?.TotalInmuebles</h4>
                    <p class="mb-0" style="color: var(--vintage-dark);">Inmuebles</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-gold) 0%, var(--vintage-brown) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-dark);">
                <div class="card-body">
                    <i class="fas fa-check-circle fa-2x mb-2" style="color: var(--vintage-dark);"></i>
                    <h4 style="color: var(--vintage-dark); text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">@estadisticas?.InmueblesDisponibles</h4>
                    <p class="mb-0" style="color: var(--vintage-dark);">Disponibles</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-dark-brown) 0%, var(--vintage-brown) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-cream);">
                <div class="card-body">
                    <i class="fas fa-file-contract fa-2x mb-2" style="color: var(--vintage-gold);"></i>
                    <h4 style="color: var(--vintage-cream); text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">@estadisticas?.ContratosVigentes</h4>
                    <p class="mb-0" style="color: var(--vintage-cream);">Contratos Activos</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center" style="background: linear-gradient(135deg, var(--vintage-brown) 0%, var(--vintage-dark-brown) 100%); border: 2px solid var(--vintage-gold); color: var(--vintage-cream);">
                <div class="card-body">
                    <i class="fas fa-money-bill-wave fa-2x mb-2" style="color: var(--vintage-gold);"></i>
                    <h4 style="color: var(--vintage-cream); text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">@estadisticas?.TotalPagos</h4>
                    <p class="mb-0" style="color: var(--vintage-cream);">Pagos</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ACCESOS RÁPIDOS -->
<div class="container mb-5">
    <h2 class="mb-4"><i class="fas fa-rocket"></i> Accesos Rápidos</h2>
    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="fas fa-building fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Inmuebles</h5>
                    <p class="card-text">Gestionar propiedades</p>
                    <a href="@Url.Action("Index", "Inmuebles")" class="btn btn-primary">
                        <i class="fas fa-list"></i> Ver Todos
                    </a>
                    <a href="@Url.Action("Disponibles", "Inmuebles")" class="btn btn-outline-success mt-2">
                        <i class="fas fa-check"></i> Disponibles
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="fas fa-file-contract fa-3x text-warning mb-3"></i>
                    <h5 class="card-title">Contratos</h5>
                    <p class="card-text">Administrar contratos</p>
                    <a href="@Url.Action("Index", "Contratos")" class="btn btn-warning">
                        <i class="fas fa-list"></i> Ver Todos
                    </a>
                    <a href="@Url.Action("Vigentes", "Contratos")" class="btn btn-outline-info mt-2">
                        <i class="fas fa-clock"></i> Vigentes
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="fas fa-users fa-3x text-info mb-3"></i>
                    <h5 class="card-title">Personas</h5>
                    <p class="card-text">Gestionar personas</p>
                    <a href="@Url.Action("Index", "Propietarios")" class="btn btn-info">
                        <i class="fas fa-user-tie"></i> Propietarios
                    </a>
                    <a href="@Url.Action("Index", "Inquilinos")" class="btn btn-outline-info mt-2">
                        <i class="fas fa-user"></i> Inquilinos
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <i class="fas fa-money-bill-wave fa-3x text-success mb-3"></i>
                    <h5 class="card-title">Pagos</h5>
                    <p class="card-text">Administrar pagos</p>
                    <a href="@Url.Action("Index", "Pagos")" class="btn btn-success">
                        <i class="fas fa-list"></i> Ver Pagos
                    </a>
                    @if (User.IsInRole("Administrador"))
                    {
                        <a href="@Url.Action("Index", "Usuarios")" class="btn btn-outline-danger mt-2">
                            <i class="fas fa-users-cog"></i> Usuarios
                        </a>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ACCIONES RECIENTES -->
<div class="container mb-5">
    <h2 class="mb-4"><i class="fas fa-history"></i> Acciones Recientes</h2>
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-file-contract"></i> Contratos Próximos a Vencer</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted">Los contratos que vencen en los próximos 30 días aparecerán aquí.</p>
                    <a href="@Url.Action("Vigentes", "Contratos")" class="btn btn-outline-warning">
                        <i class="fas fa-eye"></i> Ver Contratos Vigentes
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-building"></i> Inmuebles Disponibles</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted">Propiedades listas para alquilar.</p>
                    <a href="@Url.Action("Disponibles", "Inmuebles")" class="btn btn-outline-success">
                        <i class="fas fa-eye"></i> Ver Disponibles
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

